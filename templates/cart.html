<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    {% for medicine_id, medicine in cart.items() %}
    <tr>
        <td>{{ medicine['name'] }}</td>
        <td>{{ medicine['price'] }}</td>
        <td>{{ medicine['quantity'] }}</td>
    </tr>
    {% endfor %}
    <tr>
    <td colspan="2">Total Price:</td>
    <td>{{ total_price }}</td>
</tr>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>MedCure Management System</title>
    <meta content="" name="Description" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link href="asset\img\MedCure Logo .png" rel="icon" />
    <!-- fontaswome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Google Fonts -->
    <!-- bootstrap -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- CSS Template -->
    <link href="../static/cart.css" rel="stylesheet" />
  </head>

  <body>
    <div class="cart-content">
      <div class="card-cart">
        <div class="row">
          <div class="col-md-8 cart">
            <div class="title">
              <div class="row">
                <div class="col">
                  <h4><b>Shopping Cart</b></h4>
                </div>
                <!-- <div class="col align-self-center pl-3 text-muted">3 items</div> -->
              </div>
            </div>
            {% for medicine_id, medicine in cart.items() %}

            <div class="row border-top border-bottom">
              <div class="row main align-items-center">
                <div class="col-2"></div>
                <div class="col">
                  <div class="row text-muted">{{medicine['name']}}</div>
                </div>
                <div class="col">
                  <div class="row">
                    <a href="">-</a>
                    <a href="#" class="border">{{medicine['quantity']}}</a>
                    <a href="">+</a>
                  </div>
                </div>
                <div class="col">
                  &#8377; {{medicine['price']}}
                  <form action="/remove_from_cart/{{ medicine_id }}" method="POST">
                    <button type="submit" class="close" >&times;</button>
                  </form>
                </div>
              </div>
            </div>
            {% endfor %}
            <div class="back-to-shop">
              <a href="{{url_for('pharmacy')}}"
                >&leftarrow;<span class="text-muted">Back</span></a
              >
            </div>
          </div>
          <div class="col-md-4 summary">
            <div>
              <h5><b>Summary</b></h5>
            </div>
            <hr />
            <div class="row">
              <!-- <div class="col" style="padding-left: 0">ITEMS 3</div>
              <div class="col text-right">&#8377; 132.00</div> -->
            </div>
            <form>
              <p>SHIPPING</p>
              <select>
                <option class="text-muted">
                  Standard-Delivery- &#8377;5.00
                </option>
              </select>
              <p>GIVE CODE</p>
              <input id="code" placeholder="Enter your code" />
            </form>
            <div
              class="row"
              style="border-top: 1px solid rgba(0, 0, 0, 0.1); padding: 2vh 0"
            >
              <div class="col">TOTAL PRICE</div>
              <div class="col text-right">&#8377; {{ total_price }}</div>
            </div>
            <button class="btn">CHECKOUT</button>
          </div>
        </div>
      </div>
    </div>
    <script>
      // const minusButtons = document.querySelectorAll(".js-btn-minus");
      // const plusButtons = document.querySelectorAll(".js-btn-plus");
      // const quantityInputs = document.querySelectorAll(".js-quantity");
      // const removeButtons = document.querySelectorAll(".js-remove-cart-item");

      // minusButtons.forEach((button) => {
      //   button.addEventListener("click", () => {
      //     const input = button.nextElementSibling;
      //     if (input.value > 1) {
      //       input.value--;
      //       updateCart(input.getAttribute("data-medicine-id"), input.value);
      //     }
      //   });
      // });

      // plusButtons.forEach((button) => {
      //   button.addEventListener("click", () => {
      //     const input = button.previousElementSibling;
      //     input.value++;
      //     updateCart(input.getAttribute("data-medicine-id"), input.value);
      //   });
      // });

      // quantityInputs.forEach((input) => {
      //   input.addEventListener("change", () => {
      //     const newQuantity = parseInt(input.value);
      //     if (!isNaN(newQuantity) && newQuantity >= 1) {
      //       updateCart(input.getAttribute("data-medicine-id"), newQuantity);
      //     } else {
      //       input.value = 1;
      //     }
      //   });
      // });

      // removeButtons.forEach((button) => {
      //   button.addEventListener("click", () => {
      //     const medicineId = button.getAttribute("data-medicine-id");
      //     fetch(`/remove_from_cart/${medicineId}`, { method: "POST" })
      //       .then(() => {
      //         location.reload();
      //       })
      //       .catch((error) => {
      //         console.error(error);
      //       });
      //   });
      // });

      // function updateCart(medicineId, quantity) {
      //   fetch(`/update_cart/${medicineId}/${quantity}`)
      //     .then(() => {
      //       location.reload();
      //     })
      //     .catch((error) => {
      //       console.error(error);
      //     });
      // }
    </script>
  </body>
</html>
